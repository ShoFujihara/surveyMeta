% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/variables.R
\name{extract_variables}
\alias{extract_variables}
\title{Extract variable-level metadata from a questionnaire}
\usage{
extract_variables(
  file_path,
  api_key = NULL,
  model = "claude-sonnet-4-5-20250929",
  max_tokens = 16384L,
  pdf_mode = c("hybrid", "text", "vision"),
  verbose = TRUE
)
}
\arguments{
\item{file_path}{Character. Path to the questionnaire PDF.}

\item{api_key}{Character. API key. If NULL (default), auto-detected from
environment variables.}

\item{model}{Character. Model to use.}

\item{max_tokens}{Integer. Maximum tokens in the response.}

\item{pdf_mode}{Character. How to read the PDF: "text", "vision", or
"hybrid" (default).}

\item{verbose}{Logical. Print progress messages.}
}
\value{
A data.frame with columns: question_number, label, type, code,
value_label, condition, page. One row per value label (long format).
Variables without value labels (numeric/text) have a single row with
NA code and value_label.
}
\description{
Reads a questionnaire PDF and extracts all question items with their
variable labels, value labels, question types, and skip conditions.
}
\examples{
\dontrun{
vars <- extract_variables("questionnaire.pdf")
head(vars)

# Export as Excel codebook
export_codebook(vars, "codebook.xlsx")
}

}
